//=================================================================
// AdminPage.scss - Premium Admin Dashboard
//=================================================================
@use '../../styles/main.scss' as *;

// =====================================================================
// SCSS VARIABLES
// =====================================================================

// Colors
$color-accent-1: #cfa68a;
$color-accent-2: #d4a574;
$color-accent-3: #e6c79a;
$color-text-primary: #3a2e1d;
$color-text-secondary: #5a3e36;
$color-bg: #f8f3ee;
$color-bg-white: #ffffff;
$color-bg-cream-1: #fdfaf6;
$color-bg-cream-2: #f8f5f1;
$color-border-primary: rgba(207, 166, 138, 0.2);

// Status Colors
$color-approved: #28a745;
$color-approved-bg: #d4edda;
$color-pending: #ffc107;
$color-pending-bg: #fff3cd;
$color-rejected: #dc3545;
$color-rejected-bg: #f8d7da;

// Spacing
$spacing-xs: 4px;
$spacing-sm: 8px;
$spacing-md: 12px;
$spacing-lg: 16px;
$spacing-xl: 24px;
$spacing-2xl: 32px;
$spacing-3xl: 48px;

// Font
$font-primary: "Poppins", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
$font-size-sm: 0.875rem;
$font-size-regular: 1rem;
$font-size-lg: 1.125rem;
$font-size-xl: 1.25rem;
$font-size-2xl: 1.5rem;
$font-size-3xl: 2rem;
$font-size-4xl: 2.5rem;
$font-weight-regular: 400;
$font-weight-medium: 500;
$font-weight-semibold: 600;
$font-weight-bold: 700;

// Border Radius
$radius-sm: 8px;
$radius-md: 12px;
$radius-lg: 16px;
$radius-xl: 20px;
$radius-2xl: 24px;
$radius-full: 50%;

// Shadows
$shadow-sm: 0 2px 8px rgba(207, 166, 138, 0.08);
$shadow-md: 0 4px 12px rgba(207, 166, 138, 0.12);
$shadow-lg: 0 8px 24px rgba(207, 166, 138, 0.15);
$shadow-xl: 0 12px 40px rgba(207, 166, 138, 0.2);
$shadow-card: 0 8px 24px rgba(207, 166, 138, 0.12), 0 4px 12px rgba(90, 62, 54, 0.08);

// Breakpoints
$breakpoint-mobile: 768px;
$breakpoint-tablet: 1024px;
$breakpoint-desktop: 1440px;

// =====================================================================
// MAIN DASHBOARD CONTAINER
// =====================================================================
.admin-dashboard {
  font-family: $font-primary;
  background: linear-gradient(135deg, 
    #f8f3ee 0%, 
    #fdfaf6 50%, 
    #f8f5f1 100%);
  min-height: 100vh;
  position: relative;

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg,
      $color-accent-1 0%,
      $color-accent-2 50%,
      $color-accent-1 100%);
    z-index: 1;
  }
}

.admin-main {
  padding: $spacing-2xl $spacing-3xl;
  max-width: 1600px;
  margin: 0 auto;

  @media (max-width: $breakpoint-tablet) {
    padding: $spacing-xl $spacing-lg;
  }

  @media (max-width: $breakpoint-mobile) {
    padding: $spacing-lg $spacing-md;
  }
}

.dashboard-content {
  display: flex;
  flex-direction: column;
  gap: $spacing-3xl;
}

// =====================================================================
// STATS GRID
// =====================================================================
.stats-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: $spacing-xl;
  margin-bottom: $spacing-xl;

  @media (max-width: $breakpoint-mobile) {
    grid-template-columns: 1fr;
    gap: $spacing-lg;
  }
}

.stat-card {
  background: linear-gradient(145deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(248, 244, 240, 0.9) 100%);
  border-radius: $radius-xl;
  padding: $spacing-xl;
  display: flex;
  align-items: center;
  gap: $spacing-lg;
  box-shadow: $shadow-card;
  border: 2px solid $color-border-primary;
  position: relative;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);

  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, $color-accent-1, $color-accent-2);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  &:hover {
    transform: translateY(-4px);
    box-shadow: 
      0 16px 48px rgba(207, 166, 138, 0.2),
      0 8px 24px rgba(90, 62, 54, 0.1);

    &::before {
      opacity: 1;
    }

    .stat-icon {
      transform: scale(1.1) rotate(5deg);
    }
  }

  .stat-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: $radius-lg;
    font-size: $font-size-3xl;
    transition: all 0.3s ease;
    position: relative;

    &::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: $radius-lg;
      background: inherit;
      opacity: 0.2;
      filter: blur(12px);
    }
  }

  .drinks-icon {
    background: linear-gradient(135deg, #ffc107, #ff9800);
    color: white;
  }

  .categories-icon {
    background: linear-gradient(135deg, #2196f3, #1976d2);
    color: white;
  }

  .reservations-icon {
    background: linear-gradient(135deg, #9c27b0, #7b1fa2);
    color: white;
  }

  .stat-info {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: $spacing-xs;

    h3 {
      font-size: $font-size-4xl;
      font-weight: $font-weight-bold;
      color: $color-text-primary;
      margin: 0;
      line-height: 1;
      background: linear-gradient(135deg, $color-accent-1, $color-accent-2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    p {
      font-size: $font-size-sm;
      color: $color-text-secondary;
      margin: 0;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      font-weight: $font-weight-semibold;
    }

    .stat-breakdown {
      display: flex;
      gap: $spacing-md;
      margin-top: $spacing-sm;
      flex-wrap: wrap;

      span {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 2px;
        padding: $spacing-xs $spacing-sm;
        border-radius: $radius-sm;
        font-size: 0.75rem;

        .count-number {
          font-weight: $font-weight-bold;
          font-size: $font-size-lg;
        }

        .count-label {
          font-size: 0.65rem;
          text-transform: uppercase;
          letter-spacing: 0.3px;
          opacity: 0.8;
        }
      }

      .approved-count {
        background: $color-approved-bg;
        color: $color-approved;
      }

      .pending-count {
        background: $color-pending-bg;
        color: darken($color-pending, 20%);
      }

      .rejected-count {
        background: $color-rejected-bg;
        color: $color-rejected;
      }
    }
  }
}

// =====================================================================
// ACTION CARDS (Enhanced with Gradient & Wrapper)
// =====================================================================
.action-cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
  gap: $spacing-xl;

  @media (max-width: $breakpoint-mobile) {
    grid-template-columns: 1fr;
    gap: $spacing-lg;
  }
}

.action-card {
  background: linear-gradient(145deg,
    rgba(255, 255, 255, 0.98) 0%,
    rgba(253, 250, 246, 0.95) 50%,
    rgba(248, 245, 241, 0.92) 100%);
  border-radius: $radius-xl;
  padding: $spacing-2xl;
  display: flex;
  flex-direction: column;
  align-items: center;
  text-align: center;
  gap: $spacing-lg;
  cursor: pointer;
  box-shadow: $shadow-card;
  border: 2px solid transparent;
  background-clip: padding-box;
  position: relative;
  overflow: hidden;
  transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);

  // Gradient border wrapper
  &::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: $radius-xl;
    padding: 2px;
    background: linear-gradient(135deg, 
      $color-accent-1 0%, 
      $color-accent-2 50%, 
      $color-accent-3 100%);
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  // Radial glow effect
  &::after {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    border-radius: 50%;
    background: radial-gradient(circle, rgba($color-accent-1, 0.15), transparent 70%);
    transform: translate(-50%, -50%);
    transition: width 0.6s cubic-bezier(0.4, 0, 0.2, 1), height 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  &:hover {
    transform: translateY(-12px) scale(1.03);
    box-shadow: 
      0 25px 70px rgba(207, 166, 138, 0.3),
      0 15px 35px rgba(90, 62, 54, 0.2),
      inset 0 1px 0 rgba(255, 255, 255, 0.9);

    &::before {
      opacity: 1;
    }

    &::after {
      width: 500px;
      height: 500px;
    }

    .card-icon-wrapper {
      svg {
        transform: scale(1.2) rotate(8deg);
        filter: drop-shadow(0 8px 16px rgba(207, 166, 138, 0.5));
      }

      .icon-glow {
        opacity: 1;
        transform: scale(2);
      }

      &::before {
        opacity: 1;
        transform: scale(1.2) rotate(360deg);
      }
    }

    h3 {
      background: linear-gradient(135deg, $color-accent-1, $color-accent-2);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      transform: scale(1.05);
    }

    p {
      color: $color-text-primary;
    }
  }

  &:active {
    transform: translateY(-6px) scale(1.01);
  }

  .card-icon-wrapper {
    position: relative;
    width: 90px;
    height: 90px;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 1;

    // Rotating gradient border
    &::before {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      background: linear-gradient(45deg, 
        $color-accent-1 0%, 
        $color-accent-2 33%, 
        $color-accent-3 66%, 
        $color-accent-1 100%);
      opacity: 0;
      transition: all 0.6s ease;
      animation: rotateGlow 3s linear infinite paused;
      z-index: -1;
    }

    svg {
      font-size: $font-size-4xl;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      filter: drop-shadow(0 4px 12px rgba(207, 166, 138, 0.4));
      z-index: 2;
    }

    .icon-glow {
      position: absolute;
      inset: 0;
      background: radial-gradient(circle, rgba($color-accent-1, 0.25), transparent 60%);
      border-radius: 50%;
      opacity: 0;
      transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1;
    }
  }

  &:hover .card-icon-wrapper::before {
    animation-play-state: running;
  }

  // Icon without wrapper (fallback for logout card)
  > svg {
    font-size: $font-size-4xl;
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
    filter: drop-shadow(0 4px 12px rgba(207, 166, 138, 0.4));
    z-index: 1;
  }

  &:hover > svg {
    transform: scale(1.2) rotate(8deg);
    filter: drop-shadow(0 8px 16px rgba(207, 166, 138, 0.5));
  }

  h3 {
    font-size: $font-size-xl;
    font-weight: $font-weight-bold; // Boldovan
    color: $color-text-secondary;
    margin: 0;
    transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    z-index: 1;
    letter-spacing: 0.5px;
    position: relative;
    text-transform: capitalize;
    
    // Subtle text shadow for depth
    text-shadow: 
      0 1px 2px rgba(0, 0, 0, 0.08),
      0 2px 4px rgba(207, 166, 138, 0.1);
  }

  p {
    font-size: $font-size-sm;
    color: $color-text-secondary;
    margin: 0;
    line-height: 1.8;
    transition: all 0.3s ease;
    z-index: 1;
    letter-spacing: 0.3px;
    font-weight: $font-weight-regular;
    opacity: 0.9;
    position: relative;
    padding-bottom: 8px;
    
    // Beige underline decoration
    &::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 80%;
      height: 2px;
      background: linear-gradient(90deg, 
        transparent 0%, 
        rgba($color-accent-1, 0.4) 20%,
        rgba($color-accent-2, 0.5) 50%,
        rgba($color-accent-1, 0.4) 80%,
        transparent 100%);
      border-radius: 2px;
      box-shadow: 0 1px 3px rgba($color-accent-1, 0.2);
    }
    
    // Subtle dotted underline for extra elegance
    &::before {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 50%;
      transform: translateX(-50%);
      width: 60%;
      height: 1px;
      background: repeating-linear-gradient(
        90deg,
        rgba($color-accent-1, 0.3) 0px,
        rgba($color-accent-1, 0.3) 4px,
        transparent 4px,
        transparent 8px
      );
    }
  }
}

// Keyframe for rotating glow
@keyframes rotateGlow {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

// Specific card color variations with enhanced gradients
.menu-card {
  .card-icon-wrapper {
    svg {
      color: #ffc107;
    }

    &::before {
      background: linear-gradient(45deg, 
        #ffc107 0%, 
        #ff9800 33%, 
        #ffb300 66%, 
        #ffc107 100%);
    }

    .icon-glow {
      background: radial-gradient(circle, rgba(#ffc107, 0.3), transparent 60%);
    }
  }

  &:hover::after {
    background: radial-gradient(circle, rgba(#ffc107, 0.12), transparent 70%);
  }
}

.calendar-card {
  .card-icon-wrapper {
    svg {
      color: #9c27b0;
    }

    &::before {
      background: linear-gradient(45deg, 
        #9c27b0 0%, 
        #7b1fa2 33%, 
        #ab47bc 66%, 
        #9c27b0 100%);
    }

    .icon-glow {
      background: radial-gradient(circle, rgba(#9c27b0, 0.3), transparent 60%);
    }
  }

  &:hover::after {
    background: radial-gradient(circle, rgba(#9c27b0, 0.12), transparent 70%);
  }
}

.statistics-card {
  .card-icon-wrapper {
    svg {
      color: #2196f3;
    }

    &::before {
      background: linear-gradient(45deg, 
        #2196f3 0%, 
        #1976d2 33%, 
        #42a5f5 66%, 
        #2196f3 100%);
    }

    .icon-glow {
      background: radial-gradient(circle, rgba(#2196f3, 0.3), transparent 60%);
    }
  }

  &:hover::after {
    background: radial-gradient(circle, rgba(#2196f3, 0.12), transparent 70%);
  }
}

.career-card {
  .card-icon-wrapper {
    svg {
      color: #ff5722;
    }

    &::before {
      background: linear-gradient(45deg, 
        #ff5722 0%, 
        #e64a19 33%, 
        #ff6f42 66%, 
        #ff5722 100%);
    }

    .icon-glow {
      background: radial-gradient(circle, rgba(#ff5722, 0.3), transparent 60%);
    }
  }

  &:hover::after {
    background: radial-gradient(circle, rgba(#ff5722, 0.12), transparent 70%);
  }
}

.gallery-card {
  .card-icon-wrapper {
    svg {
      color: #28a745;
    }

    &::before {
      background: linear-gradient(45deg, 
        #28a745 0%, 
        #218838 33%, 
        #34ce57 66%, 
        #28a745 100%);
    }

    .icon-glow {
      background: radial-gradient(circle, rgba(#28a745, 0.3), transparent 60%);
    }
  }

  &:hover::after {
    background: radial-gradient(circle, rgba(#28a745, 0.12), transparent 70%);
  }
}

.logout-card {
  > svg {
    color: #dc3545;
  }

  &:hover {
    &::before {
      opacity: 1;
      background: linear-gradient(135deg, 
        #dc3545 0%, 
        #c82333 50%, 
        #dc3545 100%);
    }

    h3 {
      background: linear-gradient(135deg, #dc3545, #c82333);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    &::after {
      background: radial-gradient(circle, rgba(#dc3545, 0.12), transparent 70%);
    }

    > svg {
      color: #c82333;
    }
  }
}

// =====================================================================
// MODAL STYLES
// =====================================================================
.modal-overlay {
  position: fixed;
  inset: 0;
  background: linear-gradient(135deg,
    rgba(0, 0, 0, 0.8) 0%,
    rgba(90, 62, 54, 0.9) 50%,
    rgba(0, 0, 0, 0.8) 100%);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
  animation: modalBackdropFadeIn 0.3s ease-out;

  &.blur-backdrop {
    backdrop-filter: blur(8px);
  }

  @keyframes modalBackdropFadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
}

.modal-content {
  background: linear-gradient(145deg,
    rgba(255, 255, 255, 0.95) 0%,
    rgba(248, 244, 240, 0.9) 100%);
  border-radius: $radius-xl;
  padding: $spacing-2xl;
  max-width: 90%;
  max-height: 90vh;
  overflow-y: auto;
  box-shadow:
    0 25px 50px rgba(207, 166, 138, 0.3),
    0 15px 30px rgba(90, 62, 54, 0.2),
    inset 0 1px 0 rgba(255, 255, 255, 0.8);
  border: 2px solid $color-border-primary;
  backdrop-filter: blur(12px);
  animation: modalSlideIn 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);

  &.fullscreen-modal {
    max-width: 95%;
    max-height: 95vh;
  }

  @keyframes modalSlideIn {
    from {
      opacity: 0;
      transform: scale(0.9) translateY(20px);
    }
    to {
      opacity: 1;
      transform: scale(1) translateY(0);
    }
  }
}

.modal-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding-bottom: $spacing-lg;
  border-bottom: 2px solid $color-border-primary;
  margin-bottom: $spacing-xl;

  h3 {
    font-size: $font-size-2xl;
    font-weight: $font-weight-bold;
    color: $color-text-primary;
    margin: 0;
    display: flex;
    align-items: center;
    gap: $spacing-sm;
  }

  .modal-close-btn {
    background: linear-gradient(135deg,
      rgba(255, 255, 255, 0.9),
      rgba(248, 244, 240, 0.8));
    border: 2px solid $color-border-primary;
    border-radius: $radius-md;
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: $font-size-lg;
    cursor: pointer;
    color: $color-text-secondary;
    transition: all 0.3s ease;
    box-shadow: $shadow-sm;

    &:hover {
      background: linear-gradient(135deg,
        rgba(207, 166, 138, 0.1),
        rgba(212, 165, 116, 0.08));
      color: $color-accent-1;
      transform: scale(1.1) rotate(90deg);
      box-shadow: $shadow-md;
    }

    &:active {
      transform: scale(0.95) rotate(90deg);
    }
  }
}

.modal-body {
  overflow-y: auto;
  max-height: calc(90vh - 120px);
}

// =====================================================================
// RESPONSIVE ADJUSTMENTS
// =====================================================================
@media (max-width: $breakpoint-tablet) {
  .stats-grid {
    grid-template-columns: 1fr;
  }

  .action-cards {
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  }
}

@media (max-width: $breakpoint-mobile) {
  .stat-card {
    flex-direction: column;
    text-align: center;

    .stat-icon {
      width: 56px;
      height: 56px;
      font-size: $font-size-2xl;
    }

    .stat-info h3 {
      font-size: $font-size-3xl;
    }

    .stat-breakdown {
      justify-content: center;
    }
  }

  .action-card {
    padding: $spacing-xl;

    .card-icon-wrapper {
      width: 64px;
      height: 64px;

      svg {
        font-size: $font-size-3xl;
      }
    }

    > svg {
      font-size: $font-size-3xl;
    }

    h3 {
      font-size: $font-size-lg;
    }
  }

  .modal-content {
    padding: $spacing-lg;
    max-width: 95%;
  }

  .modal-header {
    h3 {
      font-size: $font-size-xl;
    }

    .modal-close-btn {
      width: 36px;
      height: 36px;
      font-size: $font-size-regular;
    }
  }
}